<!DOCTYPE html>
<html>
<head>
  <title>Page Title</title>
  <meta charset="UTF-8"/>
</head>
<body>
  <script>
      let choices = ["rock", "paper", "scissors"];

      function playRound(playerSelection, computerSelection) {
        playerSelection = playerSelection.trim().toLowerCase();
        computerSelection = computerSelection.trim().toLowerCase();
        if (playerSelection == computerSelection) {
            return "It's a tie! You both played: " + playerSelection;
        }
        else if (playerSelection == "rock") {
            if(computerSelection == "paper"){
                return "You lose :( Paper beats rock.";
            }
            else if (computerSelection == "scissors"){
                return "You win! Rock beats scissors.";
            }
        }
        else if (playerSelection == "paper") {
            if (computerSelection == "rock") {
                return "You win! Paper beats rock.";
            }
            else if (computerSelection == "scissors") {
                return "You lose :( Scissors beats paper.";
            }
        }
        else if (playerSelection == "scissors") {
            if (computerSelection == "rock") {
                return "You lose :( Rock beats scissors.";
            }
            else if (computerSelection == "paper") {
                return "You win! Scissors beats paper.";
            }
        }
        return "Please enter a valid selection. " + playerSelection + " is not valid";
      }

      function computerPlay() {
        return choices[Math.floor(Math.random() * 3)];
      }

      function game() {
          let playerWins = 0;
          let computerWins = 0;
          for (i = 0; i < 5; i++) {
              const playerSelection = prompt("Your turn: ");
              const computerSelection = computerPlay();
              let result = playRound(playerSelection, computerSelection);
              if (result.includes("win")){
                  playerWins++;
              }
              else if (result.includes("lose")){
                  computerWins++;
              }
              console.log(result);
          }
          if (playerWins > computerWins){
              console.log("You won " + playerWins + " to " + computerWins);
          }
          else if (playerWins == computerWins) {
              console.log("It's a tie with " + playerWins + " each!");
          }
          else {
              console.log("You lose :( " + playerWins + " to " + computerWins);
          }
      }

      game();
  </script>
</body>
</html>